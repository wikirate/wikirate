// customize_fields.js.coffee
(function(){var e,t,i,r,n,c,o,l;$(function(){return deckorate.customFields={headquarters:{title:"Company Headquarters",selector:".TYPE-company.thumbnail .RIGHT-headquarter.content-view"},identifiers:{title:"Company Identifiers",selector:".TYPE-company.thumbnail .thumbnail-subtitle"},metric_type:{title:"Metric Type",selector:".TYPE-metric.thumbnail .thumbnail-title-right"},metric_designer:{title:"Metric Designer",selector:".TYPE-metric.thumbnail .thumbnail-subtitle"},contributor:{title:"Contributor",selector:".bar-middle .credit"}},$("body").on("change","._custom-field-checkboxes input",function(){var e;return e=$(this),o(e.data("fieldSelector"),e.is(":checked")),c(),l()}),$("body").on("change","input#_all-custom-fields",function(){var e;return(e=r()).prop("checked",$(this).is(":checked")),e.trigger("change")})}),decko.slot.ready(function(t){var r,l,s,u,a,d,f;if((s=t.find("._custom-field-checkboxes"))[0]){for(u in a=deckorate.customFields)l=a[u],n(l.selector)[0]&&(r=i(u),e(s,u,l,r));c()}if(t.find(".answer-result-items")[0]){for(u in f=[],d=deckorate.customFields)l=d[u],f.push(o(l.selector,i(u)));return f}}),l=function(){var e,i;return i=t(),e=r().filter(":not(:checked)").map(function(){return $(this).data("fieldKey")}),i.items||(i.items={}),i.items.hide=e.get(),decko.filter.updateUrl($(".answer-result-items"))},o=function(e,t){return n(e).toggle(t)},e=function(e,t,i,r){var n,c,o,l;return c="custom-field-"+t,(n=(o=$("._custom-field-template .custom-field").clone()).find("input")).attr("id",c),n.data("fieldSelector",i.selector),n.data("fieldKey",t),n.prop("checked",r),(l=o.find("label")).html(i.title),l.attr("for",c),e.append(o)},i=function(e){var i,r;return!(r=t().items)||!(i=r.hide)||!i.includes(e)},t=function(){var e;return(e=$(".answer-result-items").slot()).data("slot")||e.data("slot",{}),e.data("slot")},n=function(e){return $(".answer-result-items").find(e)},r=function(){return $("._custom-field-checkboxes ._custom-field input")},c=function(){var e,t,i,n,c;if(c=r(),t=$("input#_all-custom-fields"),e=(i=c.filter(":checked").length)===c.length,n=0===i||e,t.prop("indeterminate",!n),n)return t.prop("checked",e)}}).call(this);
// deckorate.js.coffee
(function(){window.deckorate={},$(window).ready(function(){return $(".new-metric").on("click",".metric-type-list .box",function(e){var t;return t={card:{fields:{":metric_type":$(this).data("cardLinkName")}}},window.location=decko.path("new/Metric?"+$.param(t)),e.stopImmediatePropagation(),e.preventDefault()}),$("body").on("click","._filter-year-field input",function(){var e,t;return t=(e=$(this)).parent().siblings(),"latest"!==e.val()?t.find("input[value='latest']").prop("checked",!1):e.is(":checked")?t.find("input").prop("checked",!1):void 0})})}).call(this);
// filter_enhancements.js.coffee
(function(){$(function(){return $("body").on("click","._custom-item-view-radios input",function(){var t,e,i;return i=$(this).val(),(e=(t=$("._customize_filtered")).slot().data("slot")).items||(e.items={}),e.items.view=i,decko.filter.refilter(t)}),$("body").on("click","._sort-buttons a",function(t){var e,i;return e=$(this),(i=decko.filter.query(e)).sort_by=e.data("sortBy"),i.sort_dir=e.data("sortDir"),decko.filter.refilter(e),t.preventDefault()})})}).call(this);
// metric_properties.js.coffee
(function(){var e,t,n,r,i,o,c,u,a,s,f;e=".metric-properties",t=".RIGHT-hybrid input[type=checkbox]",n=".RIGHT-value_type input[type=radio]",decko.slot.ready(function(r){var o;return r.hasClass("TYPE-metric")&&(r.hasClass("new-view")||r.hasClass("edit-view"))&&(f(r,r.find(t).prop("checked")),s(r,r.find(n+":checked").val())),(o=r.find(e)).length>0&&(f(o,c(o)),s(o,o.find(".RIGHT-value_type .item-name").text())),r.on("change",t,function(){return f(i(this),$(this).prop("checked"))}),r.on("change",n,function(){return s(i(this),$(this).val())})}),c=function(e){return"yes"===$.trim(e.find(".RIGHT-hybrid.content-view").text())},f=function(e,t){if(e.find(".RIGHT-hybrid")[0])return $.each(["research_policy","report_type","about","methodology","steward"],function(n,r){return u(e,r).toggle(t)})},i=function(e){return $(e).closest(".TYPE-metric")},o=function(e){switch(e){case"Number":case"Money":return["unit","range"];case"Category":case"Multi-Category":return["value_option"];default:return[]}},s=function(e,t){return r(e),a(e,t)},r=function(e){return["unit","range","value_option"].forEach(function(t){return u(e,t).hide()})},a=function(e,t){return o(t).forEach(function(t){return u(e,t).show()})},u=function(t,n){var r;return(r=t.find(".RIGHT-"+n)).closest(e)[0]?r.closest(".labeled-view"):r}}).call(this);