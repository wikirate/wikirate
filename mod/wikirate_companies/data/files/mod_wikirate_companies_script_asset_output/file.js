// company_group.js.coffee
(function(){var t,n,i,e,r;decko.editors.content[".specification-input"]=function(){return i(this)},$(window).ready(function(){return $("body").on("change","input[name=spec-type]",function(){return e($(this).slot())}),$("body").on("decko.filter.selection","._metric-selector a",function(n,i){var e,o;return e=$(i.firstChild).data(),(o=$(this)).text(e.cardName),o.siblings().val(e.cardId),t(o,!1),r(o,e.cardId),decko.updateAddItemButton(this),o.closest("form").submit()}),$("body").on("decko.item.added","._constraint-list-editor li",function(){var n;return(n=$(this).find(".constraint-metric a")).text("Choose Metric"),$(this).find(".constraint-value .card-slot").children().remove(),t(n,!0)})}),decko.slot.ready(function(t){if(t.find(".specification-input").length>0)return e(t)}),t=function(t,n){return t.closest("._constraint-editor").find("select, input").prop("disabled",n)},r=function(t,n){var i;return(i=t.closest("li").find(".card-slot")).slotReload(i.cardMark()+"/value_formgroup?metric=~"+n)},e=function(t){var e,r;return r=n(t),e=t.find(".RIGHT-company.card-editor"),"explicit"===i(t)?(e.show(),r.hide()):(e.hide(),r.show())},n=function(t){return $(t).find(".constraint-list-editor")},i=function(t){return $(t).find("[name=spec-type]:checked").val()}}).call(this);